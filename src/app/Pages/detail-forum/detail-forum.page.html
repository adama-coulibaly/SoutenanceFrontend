<ion-content>
  <ion-toolbar style="margin-top: 60px;">
    <ion-back-button slot="start" defaultHref="" style="color: white;"  (click)="back()"></ion-back-button>
  <ion-title slot="end">Forum</ion-title>
  </ion-toolbar>



  <!-- / ================================== SECTION POUR QUESTION TITRE FIXE-->
  <div class="section1">
     <ion-fab vertical="top" horizontal="end" slot="fixed"  (click)="setOpen(true)">
      <ion-fab-button>
        <ion-icon name="add"></ion-icon>
      </ion-fab-button>
    </ion-fab>
 <div class="titreForum title-text">
  <p *ngIf="lesCommentaires != '' " >{{titre}}</p>
  <p *ngIf="lesCommentaires == '' " > Ce thème n'a pas de commentaires pour l'instant</p>

 </div> 
</div>

  <!-- ================================================ SECTION FORUM QUESTIONS OR THEMES -->
  <div class="sectionTheme">
    <div class="contenu" *ngFor="let commentaire of lesCommentaires.slice().reverse()">
        <div class="imgEtTheme">
            <div class="images">
            <ion-avatar>
              <img src="{{commentaire.user.avatar}}" alt="" srcset="">
            </ion-avatar>
              <p>{{commentaire.user.nom}} {{commentaire.user.prenom}}</p>
            </div>
            <div class="titre">
               <span>{{commentaire.datecom | date: 'dd/MM/yy, à HH:mm'}}</span>
                <p>{{commentaire.descriptioncom}}</p>
               
            </div>
        </div>
  
        <div class="commentaireEtVoirplus">
          <div class="commentaires">
            <ion-icon name="thumbs-up"></ion-icon>
          </div>
          <div class="voirplus">
            <ion-icon name="create-outline"></ion-icon>

          </div>
      </div>
        
    </div>
    </div>


    <!-- ======================================================== -->

<ion-modal id="example-modal" #modal  [isOpen]="isModalOpen" backdrop-dismiss="false">
  <ng-template>
    <div class="forms">
      <h2>Ajouter votre commentaire <span style="color: red; cursor: pointer;margin-left: 10px;" (click)="setOpen(false)">X</span> </h2>

<span class="ion-text-center" *ngIf="erreurRetour" style="color: red; text-align: center;margin: 1%;">{{erreurRetour}}</span>

      <form name="contact-form" (ngSubmit)="commenter()" >
        <ion-item counter="true">
          <ion-label position="floating">Réponse</ion-label>
          <ion-textarea maxlength="500" minlength="10" name="titretheme" [(ngModel)]="commentaire.descriptioncom"></ion-textarea>
        </ion-item>
        <div align="center"><button>Commenter</button></div>
      </form>
    </div>
      
  </ng-template>
</ion-modal>
</ion-content>
