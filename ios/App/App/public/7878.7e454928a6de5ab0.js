"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7878],{7878:(Z,M,s)=>{s.r(M),s.d(M,{ProfilPageModule:()=>I});var _=s(6895),g=s(433),c=s(2723),m=s(1407),C=s(5226),o=s.n(C),e=s(8256),u=s(7184),h=s(2831);const x=function(t){return["ferme",t]};function P(t,i){if(1&t&&(e.TgZ(0,"div",9)(1,"ion-card")(2,"div",10),e._UZ(3,"img",11),e.qZA(),e.TgZ(4,"ion-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"ion-button",12),e._uU(7,"Voir plus"),e.qZA()()()),2&t){const n=i.$implicit;e.xp6(3),e.s9C("src",n.imageferme,e.LSH),e.xp6(2),e.Oqu(n.nomferme),e.xp6(1),e.Q6J("routerLink",e.VKq(3,x,n.idferme))}}function p(t,i){if(1&t&&(e.TgZ(0,"div",16)(1,"p"),e._uU(2),e.qZA()()),2&t){const n=e.oxw(2);e.xp6(2),e.Oqu(n.nonValide)}}function v(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1,"Le nom est obligatoire"),e.qZA())}function f(t,i){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,v,2,0,"div",38),e.qZA()),2&t){e.oxw();const n=e.MAs(8);e.xp6(1),e.Q6J("ngIf",n.errors)}}function T(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1,"Veuillez donner une activit\xe9 !"),e.qZA())}function A(t,i){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,T,2,0,"div",38),e.qZA()),2&t){e.oxw();const n=e.MAs(16);e.xp6(1),e.Q6J("ngIf",n.errors)}}function b(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1,"Adresse incorrect !"),e.qZA())}function F(t,i){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,b,2,0,"div",38),e.qZA()),2&t){e.oxw();const n=e.MAs(24);e.xp6(1),e.Q6J("ngIf",n.errors)}}function S(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1,'Veuillez donner une taille avec "h\xe9ctares"'),e.qZA())}function U(t,i){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,S,2,0,"div",38),e.qZA()),2&t){e.oxw();const n=e.MAs(32);e.xp6(1),e.Q6J("ngIf",n.errors)}}function J(t,i){1&t&&(e.TgZ(0,"div"),e._uU(1,"Veuillez selectionner une image !"),e.qZA())}function w(t,i){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,J,2,0,"div",38),e.qZA()),2&t){e.oxw();const n=e.MAs(8);e.xp6(1),e.Q6J("ngIf",n.errors)}}function q(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"form",17,18),e.NdJ("ngSubmit",function(){e.CHM(n);const r=e.MAs(1),l=e.oxw(2);return e.KtG(r.form.valid&&l.onSubmit())}),e.TgZ(2,"ion-item",19)(3,"ion-label",20),e._uU(4,"Nom "),e.TgZ(5,"span"),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"ion-input",21,22),e.NdJ("ngModelChange",function(r){e.CHM(n);const l=e.oxw(2);return e.KtG(l.form.nomferme=r)}),e.qZA()(),e.YNc(9,f,2,1,"div",23),e.TgZ(10,"ion-item",19)(11,"ion-label",20),e._uU(12,"Activit\xe9 "),e.TgZ(13,"span"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"ion-input",24,25),e.NdJ("ngModelChange",function(r){e.CHM(n);const l=e.oxw(2);return e.KtG(l.form.activiteferme=r)}),e.qZA()(),e.YNc(17,A,2,1,"div",23),e.TgZ(18,"ion-item",19)(19,"ion-label",20),e._uU(20,"Adresse "),e.TgZ(21,"span"),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"ion-input",26,27),e.NdJ("ngModelChange",function(r){e.CHM(n);const l=e.oxw(2);return e.KtG(l.form.adresseferme=r)}),e.qZA()(),e.YNc(25,F,2,1,"div",23),e.TgZ(26,"ion-item",19)(27,"ion-label",20),e._uU(28,"Tailles "),e.TgZ(29,"span"),e._uU(30,"*"),e.qZA()(),e.TgZ(31,"ion-input",28,29),e.NdJ("ngModelChange",function(r){e.CHM(n);const l=e.oxw(2);return e.KtG(l.form.taille=r)}),e.qZA()(),e.YNc(33,U,2,1,"div",23),e.TgZ(34,"ion-item",30),e._UZ(35,"ion-icon",31),e.TgZ(36,"ion-input",32,33),e.NdJ("change",function(r){e.CHM(n);const l=e.oxw(2);return e.KtG(l.fileChangm(r))})("ngModelChange",function(r){e.CHM(n);const l=e.oxw(2);return e.KtG(l.form.file=r)}),e.qZA()(),e.YNc(38,w,2,1,"div",23),e.TgZ(39,"div",34)(40,"div")(41,"ion-button",35),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.setOpen(!1))}),e._uU(42,"annuler"),e.qZA()(),e.TgZ(43,"div")(44,"ion-button",36),e._uU(45,"Cr\xe9er"),e.qZA()()()()}if(2&t){const n=e.MAs(1),a=e.MAs(8),r=e.MAs(16),l=e.MAs(24),O=e.MAs(32),d=e.oxw(2);e.xp6(7),e.Q6J("ngModel",d.form.nomferme),e.xp6(2),e.Q6J("ngIf",a.errors&&n.submitted),e.xp6(6),e.Q6J("ngModel",d.form.activiteferme),e.xp6(2),e.Q6J("ngIf",r.errors&&n.submitted),e.xp6(6),e.Q6J("ngModel",d.form.adresseferme),e.xp6(2),e.Q6J("ngIf",l.errors&&n.submitted),e.xp6(6),e.Q6J("ngModel",d.form.taille),e.xp6(2),e.Q6J("ngIf",O.errors&&n.submitted),e.xp6(3),e.Q6J("ngModel",d.form.file),e.xp6(2),e.Q6J("ngIf",a.errors&&n.submitted)}}function y(t,i){if(1&t&&(e.TgZ(0,"div",13)(1,"h2"),e._uU(2,"Ajouter une ferme "),e.qZA(),e.YNc(3,p,3,1,"div",14),e.YNc(4,q,46,10,"form",15),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",n.nonValide),e.xp6(1),e.Q6J("ngIf",!n.isSuccessful)}}const j=[{path:"",component:(()=>{class t{constructor(n,a,r,l){this.tokenStorage=n,this.fermeService=a,this.router=r,this.navCtrl=l,this.isSuccessful=!1,this.isSignUpFailed=!1,this.ferme={idferme:void 0,nomferme:void 0,activiteferme:void 0,adresseferme:void 0,taille:void 0,imageferme:void 0,etat:void 0,User:void 0},this.form={idferme:"",nomferme:"",activiteferme:"",adresseferme:"",taille:"",file:"",etat:"",User:""},this.etats=!1,this.monEtat=!1,this.Adama=[1,2,3,4,5],this.isModalOpen=!1}fileChangm(n){this.file=n.target.files[0],console.log(this.file)}ngOnInit(){this.user=this.tokenStorage.getUser(),""!=this.user&&(this.monEtat=!0,this.fermeService.mesFermes(this.user.id,this.monEtat).subscribe(n=>{this.lesFermes=n}))}logout(){this.tokenStorage.signOut(),this.router.navigateByUrl("bottom-bar/accueil")}setOpen(n){this.isModalOpen=n}onSubmit(){this.user=this.tokenStorage.getUser();const{nomferme:n,activiteferme:a,adresseferme:r,taille:l}=this.form;this.fermeService.ajouterFerme(this.user.id,n,a,r,l,this.file).subscribe(d=>{this.resultat=d,1==this.resultat.status?(o().fire({heightAuto:!1,icon:"success",text:"Ferme cr\xe9\xe9e avec succ\xe8s",showConfirmButton:!1,timer:2500}),this.isModalOpen=!1,this.reloderLesDonnes()):this.nonValide=this.resultat.message})}reloderLesDonnes(){""!=this.user&&(this.monEtat=!0,this.fermeService.mesFermes(this.user.id,this.monEtat).subscribe(n=>{this.lesFermes=n}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.i),e.Y36(h.k),e.Y36(m.F0),e.Y36(c.SH))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profil"]],decls:13,vars:2,consts:[[1,"listefermes"],[2,"font-size","20px"],[1,"ajouter"],["fill","outline","id","ajouterferme","expand","block",2,"font-size","15px",3,"click"],["slot","start","name","add"],[1,"containerFerme"],["class","ferme1",4,"ngFor","ngForOf"],["id","example-modal","trigger","ajouterferme",3,"isOpen"],["modal",""],[1,"ferme1"],[2,"height","150px"],[3,"src"],[3,"routerLink"],[1,"forms"],["style","color: red; text-align: center;",4,"ngIf"],["name","form","novalidate","",3,"ngSubmit",4,"ngIf"],[2,"color","red","text-align","center"],["name","form","novalidate","",3,"ngSubmit"],["f","ngForm"],["counter","true"],["position","floating"],["type","text","equired","true","required","","name","nomferme","minlength","3","maxlength","20",3,"ngModel","ngModelChange"],["nomferme","ngModel"],["class","alerts ","role","alert",4,"ngIf"],["type","text","name","activiteferme","required","","minlength","3","maxlength","50",3,"ngModel","ngModelChange"],["activiteferme","ngModel"],["type","text","name","adresseferme","required","","minlength","3","maxlength","50",3,"ngModel","ngModelChange"],["adresseferme","ngModel"],["type","text","name","taille","required","","minlength","3","maxlength","50","placeholder","2 h\xe9ctares",3,"ngModel","ngModelChange"],["taille","ngModel"],[1,"file-input"],["name","camera",2,"color","#04CF72"],["type","file","name","file","required","",3,"ngModel","change","ngModelChange"],["file","ngModel"],[1,"bottoms-boutons"],[1,"annuler",3,"click"],["type","submit"],["role","alert",1,"alerts"],[4,"ngIf"]],template:function(n,a){1&n&&(e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1),e._uU(3," Mes fermes "),e.qZA(),e.TgZ(4,"div",2)(5,"ion-button",3),e.NdJ("click",function(){return a.setOpen(!0)}),e._UZ(6,"ion-icon",4),e._uU(7," Ajouter"),e.qZA()()(),e.TgZ(8,"div",5),e.YNc(9,P,8,5,"div",6),e.qZA(),e.TgZ(10,"ion-modal",7,8),e.YNc(12,y,5,2,"ng-template"),e.qZA()()),2&n&&(e.xp6(9),e.Q6J("ngForOf",a.lesFermes),e.xp6(1),e.Q6J("isOpen",a.isModalOpen))},dependencies:[_.sg,_.O5,g._Y,g.JJ,g.JL,g.Q7,g.wO,g.nD,g.On,g.F,c.YG,c.PM,c.Dq,c.W2,c.gu,c.pK,c.Ie,c.Q$,c.ki,c.j9,c.YI,m.rH],styles:[".principalG[_ngcontent-%COMP%]{margin-top:27%}.ajouter[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:30px}.principal[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:100px}.profil[_ngcontent-%COMP%]{width:30%;height:100px}.donnees[_ngcontent-%COMP%]{width:67%;height:100%;font-size:10px;color:#000}.profil[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:inherit;object-fit:cover}ion-badge[_ngcontent-%COMP%]{position:absolute;top:65px;left:20px;font-size:35px;background-color:transparent;cursor:pointer;color:#fff}.boutons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;size:100px}.deconnexion[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: red}.listefermes[_ngcontent-%COMP%], .ios[_ngcontent-%COMP%]   .listefermes[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20%;margin-right:10px;margin-left:10px;align-items:center}.listefermes[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{border:1px solid;border-radius:100%}.listefermes[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:9px;font-weight:700}.ferme1[_ngcontent-%COMP%]{text-align:center;width:50%}.ferme1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;padding:5%}.ferme1[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:10px}.ferme1[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:10px;padding:5%}.ios[_ngcontent-%COMP%]   .ferme1[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:15px;padding:5%}.containerFerme[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin:2%;flex-wrap:wrap}.lienVoirPlus[_ngcontent-%COMP%]{text-align:center}ion-modal#example-modal[_ngcontent-%COMP%]{--width: fit-content;--min-width: 250px;--height: fit-content;--border-radius: 6px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#example-modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 20px 10px}ion-modal#example-modal[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:6px;width:48px;height:48px;padding:4px 0;color:#aaa}ion-modal#example-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.forms[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px;margin:10px;color:#04cf72;font-weight:700}.forms[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;border-radius:5px;background-color:#04cf72;color:#fff;margin:10px auto!important}ion-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.bottoms-boutons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:2%}.bottoms-boutons[_ngcontent-%COMP%]   .annuler[_ngcontent-%COMP%]{--background: red}.file-input[_ngcontent-%COMP%]{font-size:9px;text-align:center}.alerts[_ngcontent-%COMP%]{color:red;text-align:center;font-size:12px}ion-avatar[_ngcontent-%COMP%]{--size: 200px}"]}),t})()},{path:"ferme/:idferme",loadChildren:()=>s.e(7583).then(s.bind(s,7583)).then(t=>t.FermePageModule)}];let $=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(j),m.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[_.ez,g.u5,c.Pc,$]}),t})()},2831:(Z,M,s)=>{s.d(M,{k:()=>c});var _=s(8256),g=s(529);let c=(()=>{class m{constructor(o){this.http=o}ajouterFerme(o,e,u,h,x,P){console.log("Service Ferme "+P);let p=new FormData;return p.append("user",o),p.append("nomferme",e),p.append("activiteferme",u),p.append("adresseferme",h),p.append("taille",x),p.append("file",P),this.http.post("http://localhost:8080/ferme/ajouter",p)}ajouterProduits(o,e,u,h,x,P,p,v){console.log("Service Ferme "+v),console.log("Service Ferme "+e),console.log("Service Ferme "+u),console.log("Service Ferme "+h),console.log("Service Ferme "+o);let f=new FormData;return f.append("file",v),f.append("descriptionproduit",e),f.append("nomproduit",u),f.append("reference",h),f.append("ferme",o),f.append("prix",x),f.append("quantiteVente",P),f.append("categorieProd",p),this.http.post("http://localhost:8080/produit/ajouter",f)}mesFermes(o,e){return this.http.get(`http://localhost:8080/ferme/UserFermesEtat/${o}/${e}`)}infoFermes(o){return this.http.get(`http://localhost:8080/ferme/infoferme/${o}`)}lesProductions(o){return this.http.get(`http://localhost:8080/production/listerParFerme/${o}`)}lesProduitsParFermes(o){return this.http.get(`http://localhost:8080/produit/listerParFerme/${o}`)}lesProduitsParFermesEtat(o,e){return this.http.get(`http://localhost:8080/produit/listerParFermes/${o}/${e}`)}lesProduitsParId(o){return this.http.get(`http://localhost:8080/produit/listerParid/${o}`)}supprimerProduit(o,e){return this.http.patch(`http://localhost:8080/produit/etat/${e}`,o)}supprimerFerme(o,e){return this.http.patch(`http://localhost:8080/ferme/etat/${e}`,o)}lesTypesdeProduction(){return this.http.get("http://localhost:8080/typeproduction/liste")}categories(){return this.http.get("http://localhost:8080/categorie/liste")}ajouterProduction(o,e,u){return this.http.post(`http://localhost:8080/production/ajouter/${e}/${u}`,o)}fitrerProduction(o,e){return this.http.get(`http://localhost:8080/production/lesProdsParStatus/${o}/${e}`)}enumStatus(){return this.http.get("http://localhost:8080/production/enum")}historiqueDesVentesParFermes(o){return this.http.get(`http://localhost:8080/historique/lesHistoriqueParFerme/${o}`)}supprimerHisto(o){return this.http.delete(`http://localhost:8080/historique/supprimer/${o}`)}ajouterEntretien(o,e){return this.http.post(`http://localhost:8080/entretien/ajouter/${e}`,o)}ajouterMortalite(o,e){return this.http.post(`http://localhost:8080/mortalite/ajouter/${e}`,o)}recupererEntretienParProd(o){return this.http.get(`http://localhost:8080/entretien/listeParProduction/${o}`)}SupprimerEntrertien(o){return this.http.delete(`http://localhost:8080/entretien/supprimer/${o}`)}SupprimerMoratlite(o){return this.http.delete(`http://localhost:8080/mortalite/supprimer/${o}`)}recupererMortaliteParProd(o){return this.http.get(`http://localhost:8080/mortalite/listerParProduction/${o}`)}recupererUneSeuleProd(o){return this.http.get(`http://localhost:8080/production/listerParID/${o}`)}}return m.\u0275fac=function(o){return new(o||m)(_.LFG(g.eN))},m.\u0275prov=_.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);