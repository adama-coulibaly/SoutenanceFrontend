"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[275],{275:(F,p,a)=>{a.r(p),a.d(p,{DetailForumPageModule:()=>b});var m=a(6895),s=a(433),o=a(2723),l=a(1407),u=a(655),t=a(8256),d=a(8392),f=a(529);let h=(()=>{class e{constructor(n){this.http=n}RegionsCommentaire(n){return this.http.get(`http://localhost:8080/commentaire/listepatheme/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(f.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _=a(7184);function x(e,i){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.titre)}}function C(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1," Ce th\xe8me n'a pas de commentaires pour l'instant"),t.qZA())}function P(e,i){if(1&e&&(t.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"ion-avatar"),t._UZ(4,"img",13),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"div",14)(8,"span"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA()()(),t.TgZ(13,"div",15)(14,"div",16),t._UZ(15,"ion-icon",17),t.qZA(),t.TgZ(16,"div",18),t._UZ(17,"ion-icon",19),t.qZA()()()),2&e){const n=i.$implicit;t.xp6(4),t.s9C("src",n.user.avatar,t.LSH),t.xp6(2),t.AsE("",n.user.nom," ",n.user.prenom,""),t.xp6(3),t.Oqu(t.xi3(10,5,n.datecom,"dd/MM/yy, \xe0 HH:mm")),t.xp6(3),t.Oqu(n.descriptioncom)}}function M(e,i){if(1&e&&(t.TgZ(0,"span",28),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Oqu(n.erreurRetour)}}function O(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",20)(1,"h2"),t._uU(2,"Ajouter votre commentaire "),t.TgZ(3,"span",21),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.setOpen(!1))}),t._uU(4,"X"),t.qZA()(),t.YNc(5,M,2,1,"span",22),t.TgZ(6,"form",23),t.NdJ("ngSubmit",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.commenter())}),t.TgZ(7,"ion-item",24)(8,"ion-label",25),t._uU(9,"R\xe9ponse"),t.qZA(),t.TgZ(10,"ion-textarea",26),t.NdJ("ngModelChange",function(c){t.CHM(n);const g=t.oxw();return t.KtG(g.commentaire.descriptioncom=c)}),t.qZA()(),t.TgZ(11,"div",27)(12,"button"),t._uU(13,"Commenter"),t.qZA()()()()}if(2&e){const n=t.oxw();t.xp6(5),t.Q6J("ngIf",n.erreurRetour),t.xp6(5),t.Q6J("ngModel",n.commentaire.descriptioncom)}}const v=[{path:"",component:(()=>{class e{constructor(n,r,c,g,Z){this.alertController=n,this.route=r,this.forum=c,this.detailThemeService=g,this.tokenStorage=Z,this.isModalOpen=!1,this.Adama=["adms","mous","ali","jeans","bore"],this.commentaire={idcommentaire:void 0,descriptioncom:void 0,Date:void 0,Theme:void 0,User:void 0}}setOpen(n){this.isModalOpen=n}ngOnInit(){this.user=this.tokenStorage.getUser(),this.listerLesTheme()}retour(){window.history.back()}commenter(){null==this.user.id?this.presentAlert():this.forum.commenterTheme(this.commentaire,this.id_theme,this.user.id).subscribe(n=>{this.com=n,1==this.com.status?(this.listerLesTheme(),this.isModalOpen=!1,this.commentaire.descriptioncom=" "):(this.isModalOpen=!0,this.erreurRetour=this.com.message)})}listerLesTheme(){this.id_theme=+this.route.snapshot.params.id_theme,this.detailThemeService.RegionsCommentaire(this.id_theme).subscribe(n=>{this.lesCommentaires=n;for(let r of this.lesCommentaires)this.titre=r.theme.titretheme;console.log("=============== "+this.titre)})}presentAlert(){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Connexion requise !",message:"Veuillez vous connect\xe9 pour pouvoir ajouter un commentaire !",buttons:["OK"]})).present()})}back(){window.history.back()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(o.Br),t.Y36(l.gz),t.Y36(d.q),t.Y36(h),t.Y36(_.i))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail-forum"]],decls:14,vars:4,consts:[[1,"section1"],["slot","start","defaultHref","",3,"click"],["vertical","top","horizontal","end","slot","fixed",3,"click"],["name","add"],[1,"titreForum","title-text"],[4,"ngIf"],[1,"sectionTheme"],["class","contenu",4,"ngFor","ngForOf"],["id","example-modal","backdrop-dismiss","false",3,"isOpen"],["modal",""],[1,"contenu"],[1,"imgEtTheme"],[1,"images"],["alt","","srcset","",3,"src"],[1,"titre"],[1,"commentaireEtVoirplus"],[1,"commentaires"],["name","thumbs-up"],[1,"voirplus"],["name","create-outline"],[1,"forms"],[2,"color","red","cursor","pointer","margin-left","10px",3,"click"],["class","ion-text-center","style","color: red; text-align: center;margin: 1%;",4,"ngIf"],["name","contact-form",3,"ngSubmit"],["counter","true"],["position","floating"],["maxlength","500","minlength","10","name","titretheme",3,"ngModel","ngModelChange"],["align","center"],[1,"ion-text-center",2,"color","red","text-align","center","margin","1%"]],template:function(n,r){1&n&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"ion-back-button",1),t.NdJ("click",function(){return r.retour()}),t.qZA(),t.TgZ(3,"ion-fab",2),t.NdJ("click",function(){return r.setOpen(!0)}),t.TgZ(4,"ion-fab-button"),t._UZ(5,"ion-icon",3),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,x,2,1,"p",5),t.YNc(8,C,2,0,"p",5),t.qZA()(),t.TgZ(9,"div",6),t.YNc(10,P,18,8,"div",7),t.qZA(),t.TgZ(11,"ion-modal",8,9),t.YNc(13,O,14,2,"ng-template"),t.qZA()()),2&n&&(t.xp6(7),t.Q6J("ngIf",""!=r.lesCommentaires),t.xp6(1),t.Q6J("ngIf",""==r.lesCommentaires),t.xp6(2),t.Q6J("ngForOf",r.lesCommentaires),t.xp6(1),t.Q6J("isOpen",r.isModalOpen))},dependencies:[m.sg,m.O5,s._Y,s.JJ,s.JL,s.wO,s.nD,s.On,s.F,o.BJ,o.oU,o.W2,o.IJ,o.W4,o.gu,o.Ie,o.Q$,o.g2,o.ki,o.j9,o.cs,m.uU],styles:["ion-toolbar[_ngcontent-%COMP%]{--background:#04CF72;padding:3%}ion-title[_ngcontent-%COMP%]{color:#fff}.section1[_ngcontent-%COMP%]{margin-top:55px;box-shadow:0 4px 4px rgba(0,0,0,.25);position:fixed;background-color:#f8f6fb;display:flex}ion-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{padding:7px}.lefts[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:30px;cursor:pointer!important;padding:0}.lefts[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{position:absolute;right:37px;top:2px;background-color:red;color:#fff;height:15px;border-radius:100%}.lefts[_ngcontent-%COMP%]   .notif[_ngcontent-%COMP%]{position:absolute;right:1px;background-color:red;color:#fff;height:15px;border-radius:100%}.lefts[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:10px}.sectionTheme[_ngcontent-%COMP%]{margin-top:140px!important}.sectionTheme[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:50px;height:50px}.title-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:85%}.contenu[_ngcontent-%COMP%]{width:95%;margin:2% auto;background:#F8F6FB;border:1px solid #04CF72;box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:5px;padding:2%}.imgEtTheme[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 5fr;gap:10px}.imgEtTheme[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:10px;text-align:center;font-weight:900}.imgEtTheme[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:5px auto;width:100%;border-radius:100%}.imgEtTheme[_ngcontent-%COMP%]   .titre[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:15px;text-align:start}.imgEtTheme[_ngcontent-%COMP%]   .titre[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:9px;margin-left:70px;font-weight:900}.commentaireEtVoirplus[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;font-size:10px}.commentaires[_ngcontent-%COMP%]{z-index:1}.commentaireEtVoirplus[_ngcontent-%COMP%]   .commentaires[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#04cf72;cursor:pointer;font-size:25px}.commentaireEtVoirplus[_ngcontent-%COMP%]   .voirplus[_ngcontent-%COMP%]{color:#04cf72;cursor:pointer;font-size:25px}.commentaireEtVoirplus[_ngcontent-%COMP%]   .voirplus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-modal#example-modal[_ngcontent-%COMP%]{--width: fit-content;--min-width: 250px;--height: fit-content;--border-radius: 6px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#example-modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 20px 10px}ion-modal#example-modal[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:6px;width:48px;height:48px;padding:4px 0;color:#aaa}ion-modal#example-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.forms[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px;margin:10px;color:#04cf72;font-weight:700}.forms[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;border-radius:5px;background-color:#04cf72;color:#fff;margin:10px auto!important}.titreForum[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2%}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(v),l.Bz]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,s.u5,o.Pc,T]}),e})()}}]);