"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2842],{2842:(j,p,s)=>{s.r(p),s.d(p,{ProduitsPageModule:()=>U});var l=s(6895),a=s(433),d=s(2723),_=s(1407),g=s(655),t=s(8256),P=s(9744),m=s(7184),x=s(5768),h=s(5309),f=s(8635);function v(n,c){if(1&n){const i=t.EpF();t.TgZ(0,"div")(1,"img",11),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.unProduit(o.idproduit))})("click",function(){t.CHM(i);const o=t.oxw(3);return t.KtG(o.setOpen(!0))}),t.qZA(),t.TgZ(2,"ion-card-title",12),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.unProduit(o.idproduit))})("click",function(){t.CHM(i);const o=t.oxw(3);return t.KtG(o.setOpen(!0))}),t._uU(3),t.qZA(),t.TgZ(4,"div",13)(5,"div",14)(6,"p"),t._uU(7,"Prix"),t.qZA()(),t.TgZ(8,"div",15)(9,"p")(10,"strong"),t._uU(11),t.qZA()()()(),t.TgZ(12,"div",16)(13,"button",12),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.ajouterPaner(o.idproduit))}),t._uU(14,"Ajouter au panier "),t.qZA()()()}if(2&n){const i=t.oxw().$implicit;t.xp6(1),t.s9C("src",i.phtoproduit,t.LSH),t.xp6(2),t.hij("",i.nomproduit.slice(0,10)," . . ."),t.xp6(8),t.hij("",i.prix," Fcfa")}}function C(n,c){if(1&n&&(t.TgZ(0,"ion-card"),t.YNc(1,v,15,3,"div",10),t.qZA()),2&n){const i=c.$implicit;t.xp6(1),t.Q6J("ngIf","poulets"==i.categorieProd.nomcategories)}}function Z(n,c){if(1&n&&(t.TgZ(0,"ion-list")(1,"div",8),t.YNc(2,C,2,1,"ion-card",9),t.qZA()()),2&n){const i=t.oxw();t.xp6(2),t.Q6J("ngForOf",i.lesPoulets)}}function T(n,c){if(1&n){const i=t.EpF();t.TgZ(0,"div")(1,"img",11),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.unProduit(o.idproduit))})("click",function(){t.CHM(i);const o=t.oxw(3);return t.KtG(o.setOpen(!0))}),t.qZA(),t.TgZ(2,"ion-card-title",12),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.unProduit(o.idproduit))})("click",function(){t.CHM(i);const o=t.oxw(3);return t.KtG(o.setOpen(!0))}),t._uU(3),t.qZA(),t.TgZ(4,"div",13)(5,"div",14)(6,"p"),t._uU(7,"Prix"),t.qZA()(),t.TgZ(8,"div",15)(9,"p")(10,"strong"),t._uU(11),t.qZA()()()(),t.TgZ(12,"div",16)(13,"button",12),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.ajouterPaner(o.idproduit))}),t._uU(14,"Ajouter au panier "),t.qZA()()()}if(2&n){const i=t.oxw().$implicit;t.xp6(1),t.s9C("src",i.phtoproduit,t.LSH),t.xp6(2),t.hij("",i.nomproduit.slice(0,10)," . . ."),t.xp6(8),t.hij("",i.prix," Fcfa")}}function M(n,c){if(1&n&&(t.TgZ(0,"ion-card"),t.YNc(1,T,15,3,"div",10),t.qZA()),2&n){const i=c.$implicit;t.xp6(1),t.Q6J("ngIf","outils"==i.categorieProd.nomcategories)}}function O(n,c){if(1&n&&(t.TgZ(0,"ion-list")(1,"div",8),t.YNc(2,M,2,1,"ion-card",9),t.qZA()()),2&n){const i=t.oxw();t.xp6(2),t.Q6J("ngForOf",i.lesOutils)}}function A(n,c){if(1&n){const i=t.EpF();t.TgZ(0,"ion-card")(1,"div")(2,"img",11),t.NdJ("click",function(){const r=t.CHM(i).$implicit,u=t.oxw(2);return t.KtG(u.unProduit(r.idproduit))})("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.setOpen(!0))}),t.qZA(),t.TgZ(3,"ion-card-title",12),t.NdJ("click",function(){const r=t.CHM(i).$implicit,u=t.oxw(2);return t.KtG(u.unProduit(r.idproduit))})("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.setOpen(!0))}),t._uU(4),t.qZA(),t.TgZ(5,"div",13)(6,"div",14)(7,"p"),t._uU(8,"Prix"),t.qZA()(),t.TgZ(9,"div",15)(10,"p")(11,"strong"),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",16)(14,"button",12),t.NdJ("click",function(){const r=t.CHM(i).$implicit,u=t.oxw(2);return t.KtG(u.ajouterPaner(r.idproduit))}),t._uU(15,"Ajouter au panier "),t.qZA()()()()}if(2&n){const i=c.$implicit;t.xp6(2),t.s9C("src",i.phtoproduit,t.LSH),t.xp6(2),t.hij("",i.nomproduit.slice(0,10)," . . ."),t.xp6(8),t.hij("",i.prix," Fcfa")}}function b(n,c){if(1&n&&(t.TgZ(0,"ion-list")(1,"div",8),t.YNc(2,A,16,3,"ion-card",9),t.qZA()()),2&n){const i=t.oxw();t.xp6(2),t.Q6J("ngForOf",i.lesAliments)}}function w(n,c){if(1&n){const i=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Produits"),t.qZA(),t.TgZ(4,"ion-buttons",17)(5,"ion-button",18),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.setOpen(!1))}),t._uU(6,"Fermer"),t.qZA()()()(),t.TgZ(7,"ion-content",19)(8,"h5"),t._uU(9),t.qZA(),t.TgZ(10,"div",20),t._UZ(11,"img",21),t.qZA(),t.TgZ(12,"div",22)(13,"div",23)(14,"div",24)(15,"p"),t._uU(16,"Prix:"),t.qZA()(),t.TgZ(17,"div",25)(18,"p")(19,"span",26),t._uU(20),t.qZA()()()(),t.TgZ(21,"div",23)(22,"div",24)(23,"p"),t._uU(24,"Quantit\xe9 disponible:"),t.qZA()(),t.TgZ(25,"div",25)(26,"p")(27,"span",26),t._uU(28),t.qZA()()()(),t.TgZ(29,"p"),t._uU(30),t.qZA()()()}if(2&n){const i=t.oxw();t.xp6(9),t.Oqu(i.unProd.nomproduit),t.xp6(2),t.s9C("src",i.unProd.phtoproduit,t.LSH),t.xp6(9),t.hij("",i.unProd.prix," Fcfa"),t.xp6(8),t.Oqu(i.unProd.quantiteVente),t.xp6(2),t.hij(" ",i.unProd.descriptionproduit," ")}}const k=[{path:"",component:(()=>{class n{constructor(i,e,o,r,u,J,q,G){this.alertController=i,this.serviceAccueil=e,this.tokenStorage=o,this.loadingCtrl=r,this.route=u,this.panierService=J,this.bo=q,this.serveGe=G,this.aliments=1,this.outils=2,this.poulet=3,this.isModalOpen=!1,this.panierTotal=0,this.panier={idpanier:void 0,quantite:void 0,totalproduit:void 0,User:void 0,Produit:void 0},this.poulets="poulet"}setOpen(i){this.isModalOpen=i}ngOnInit(){this.user=this.tokenStorage.getUser(),this.serviceAccueil.lesProduitsParCategories(this.poulet).subscribe(i=>{this.lesPoulets=i}),this.serviceAccueil.lesProduitsParCategories(this.outils).subscribe(i=>{this.lesOutils=i}),this.serviceAccueil.lesProduitsParCategories(this.aliments).subscribe(i=>{this.lesAliments=i})}unProduit(i){this.serviceAccueil.lesProduitsParID(i).subscribe(e=>{this.unProd=e})}ajouterPaner(i){null==this.user.id?this.presentAlert():this.serviceAccueil.ajouterAuPanier(this.panier,i,this.user.id).subscribe(e=>{this.addPanier=e,this.loadAddToCard(),1==this.addPanier.status&&this.showLoading()})}showLoading(){return(0,g.mG)(this,void 0,void 0,function*(){(yield this.loadingCtrl.create({message:"En cours...",duration:1e3,spinner:"circles"})).present()})}loadData(){this.user=this.tokenStorage.getUser(),this.panierService.lesProduitsParFermes(this.user.id,!0).subscribe(i=>{this.panierProd=i;for(let e of this.panierProd)this.panierTotal+=e.quantite})}loadAddToCard(){this.panierService.totalQuantite(this.user.id).subscribe(i=>{this.panierProd=i,this.serveGe.showValue.next(this.panierProd[0])})}presentAlert(){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Connexion requise !",message:"Veuillez vous connect\xe9 pour pouvoir ajouter un produit au panier !",buttons:["OK"]})).present()})}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(d.Br),t.Y36(P.$),t.Y36(m.i),t.Y36(d.HT),t.Y36(_.F0),t.Y36(x.Y),t.Y36(h.N),t.Y36(f.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-produits"]],decls:19,vars:6,consts:[["padding",""],[3,"ngModel","ngModelChange"],["value","poulet"],["value","outils"],["value","aliment"],[3,"ngSwitch"],[4,"ngSwitchCase"],["backdrop-dismiss","false",3,"isOpen"],[1,"produits"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt","",3,"src","click"],[3,"click"],[1,"nonETprix"],[1,"prix"],[1,"montant"],[1,"boutonpanier"],["slot","end"],[2,"color","white","background","red",3,"click"],[1,"cont"],["align","center"],["alt","","srcset","","width","50%",1,"ion-text-center",3,"src"],[1,"modalProduits"],[1,"sec1"],[1,"titre"],[1,"valeurs"],[1,"sp"]],template:function(i,e){1&i&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Boutique"),t.qZA()(),t.TgZ(4,"div",0)(5,"ion-segment",1),t.NdJ("ngModelChange",function(r){return e.poulets=r}),t.TgZ(6,"ion-segment-button",2),t._uU(7," poulets "),t.qZA(),t.TgZ(8,"ion-segment-button",3),t._uU(9," Outils "),t.qZA(),t.TgZ(10,"ion-segment-button",4),t._uU(11," aliment "),t.qZA()()()(),t.TgZ(12,"ion-content")(13,"div",5),t.YNc(14,Z,3,1,"ion-list",6),t.YNc(15,O,3,1,"ion-list",6),t.YNc(16,b,3,1,"ion-list",6),t.qZA(),t.TgZ(17,"ion-modal",7),t.YNc(18,w,31,5,"ng-template"),t.qZA()()),2&i&&(t.xp6(5),t.Q6J("ngModel",e.poulets),t.xp6(8),t.Q6J("ngSwitch",e.poulets),t.xp6(1),t.Q6J("ngSwitchCase","poulet"),t.xp6(1),t.Q6J("ngSwitchCase","outils"),t.xp6(1),t.Q6J("ngSwitchCase","aliment"),t.xp6(1),t.Q6J("isOpen",e.isModalOpen))},dependencies:[l.sg,l.O5,l.RF,l.n9,a.JJ,a.On,d.YG,d.Sm,d.PM,d.Dq,d.W2,d.Gu,d.q_,d.cJ,d.GO,d.wd,d.sr,d.ki,d.QI],styles:[".produits[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;background:#F8F6FB}.nonETprix[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;font-size:12px;color:#000}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:90px;object-fit:fill;cursor:pointer}ion-card-title[_ngcontent-%COMP%]{font-weight:700;text-align:center;font-size:15px;cursor:pointer}.boutonpanier[_ngcontent-%COMP%]{align-items:center}.boutonpanier[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#04CF72;color:#fff;width:100%;padding:5%}.boutonpanier[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px}ion-segment[_ngcontent-%COMP%]{margin-top:20px;background:#04CF72}ion-segment-button[_ngcontent-%COMP%]{color:#fff}ion-segment-button[_ngcontent-%COMP%]:hover{color:#000}ion-modal[_ngcontent-%COMP%]{--height: 50%;width:90%;--border-radius: 5px;margin:5px auto;--box-shadow: 1px 1px 6px #04CF72}ion-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}ion-modal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:2%;text-align:center}ion-modal[_ngcontent-%COMP%]::part(backdrop){background:rgb(209,213,219);opacity:1}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #04CF72;--color: white}.cont[_ngcontent-%COMP%]{background:white;border:2px solid #04CF72}.modalProduits[_ngcontent-%COMP%]{padding:10px}.titre[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:900}.sec1[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around}.sp[_ngcontent-%COMP%]{color:red}"]}),n})()},{path:"accueil",loadChildren:()=>Promise.all([s.e(8592),s.e(7076)]).then(s.bind(s,7076)).then(n=>n.AccueilPageModule)},{path:"valider-commende",loadChildren:()=>s.e(8592).then(s.bind(s,5038)).then(n=>n.ValiderCommendePageModule)}];let F=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(k),_.Bz]}),n})(),U=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,a.u5,d.Pc,F]}),n})()}}]);